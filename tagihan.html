<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tagihan | OMAH Laundry</title>
  <style>
    /* ... (gaya CSS kamu tetap dipakai seperti sebelumnya) ... */
  </style>
</head>
<body>

<nav>
  <div class="logo">OMAH Laundry</div>
  <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
  <ul id="menu">
    <li><a href="index.html">Beranda</a></li>
    <li><a href="alamat.html">Alamat</a></li>
    <li><a href="kontak.html">Kontak</a></li>
    <li><a href="statuspesanan.html">Status</a></li>
    <li><a href="riwayat.html">Riwayat</a></li>
  </ul>
</nav>

<main class="container">
  <h2>Detail Tagihan</h2>
  <div class="tagihan-info">
    <p><strong>Nama:</strong> <span id="nama"></span></p>
    <p><strong>Alamat:</strong> <span id="alamat"></span></p>
    <p><strong>Opsi Jasa:</strong> <span id="opsi"></span></p>
    <p><strong>Berat Cucian:</strong> <span id="berat"></span> kg</p>
    <p><strong>Total Biaya:</strong> Rp <span id="biaya"></span></p>
  </div>

  <h3>Metode Pembayaran</h3>
  <div class="metode-pembayaran">
    <label><input type="radio" name="metode" value="DANA"> DANA</label>
    <label><input type="radio" name="metode" value="ShopeePay"> ShopeePay</label>
    <label><input type="radio" name="metode" value="GoPay"> GoPay</label>
    <label><input type="radio" name="metode" value="OVO"> OVO</label>
    <label><input type="radio" name="metode" value="QRIS" onclick="toggleQris()"> QRIS</label>
    <label><input type="radio" name="metode" value="BANK" onclick="toggleBank()"> Transfer Bank</label>
  </div>

  <div id="qrisOptions" style="display:none; margin-top:10px;">
    <label>Pilih QRIS:
      <select id="qris-select">
        <option value="QRIS_DANA">QRIS DANA</option>
        <option value="QRIS_ShopeePay">QRIS ShopeePay</option>
        <option value="QRIS_GoPay">QRIS GoPay</option>
        <option value="QRIS_OVO">QRIS OVO</option>
      </select>
    </label>
  </div>

  <div id="bankOptions" style="display:none; margin-top:10px;">
    <label>Pilih Bank:
      <select id="bank-select">
        <option value="Mandiri">Mandiri</option>
        <option value="BNI">BNI</option>
        <option value="BCA">BCA</option>
        <option value="BRI">BRI</option>
        <option value="CIMB Niaga">CIMB Niaga</option>
      </select>
    </label>
  </div>

  <button class="btn-pesan" onclick="konfirmasiPembayaran()">Konfirmasi Pembayaran</button>
</main>

<footer>
  <p>&copy; 2025 OMAH Laundry Jatuh Cahya</p>
</footer>

<script>
function toggleMenu() {
  document.getElementById('menu').classList.toggle('show');
}

function toggleBank() {
  document.getElementById('bankOptions').style.display = 'block';
  document.getElementById('qrisOptions').style.display = 'none';
}

function toggleQris() {
  document.getElementById('qrisOptions').style.display = 'block';
  document.getElementById('bankOptions').style.display = 'none';
}

// Tampilkan detail tagihan dari localStorage
['nama', 'alamat', 'opsi', 'berat', 'biaya'].forEach(id => {
  document.getElementById(id).textContent = localStorage.getItem(id);
});

function konfirmasiPembayaran() {
  const metode = document.querySelector('input[name="metode"]:checked');
  if (!metode) {
    alert("Pilih metode pembayaran!");
    return;
  }

  let metodePembayaran = metode.value;

  if (metode.value === "QRIS") {
    metodePembayaran += " - " + document.getElementById("qris-select").value;
    localStorage.setItem("metodePembayaran", metodePembayaran);
    window.location.href = "https://link-ke-QRIS.com"; // Ganti dengan link QRIS dashboard kamu
    return;
  }

  if (metode.value === "BANK") {
    metodePembayaran += " - " + document.getElementById("bank-select").value;
    localStorage.setItem("metodePembayaran", metodePembayaran);
    window.location.href = "buktipembayaran.html"; // redirect ke bukti pembayaran setelah pilih bank
    return;
  }

  localStorage.setItem("metodePembayaran", metodePembayaran);

  // Redirect ke pembayaran langsung berdasarkan metode
  switch(metode.value) {
    case "DANA":
      window.location.href = "https://link.dana.id/your-dana-link"; break;
    case "ShopeePay":
      window.location.href = "https://shopeepay.shopee.co.id/your-link"; break;
    case "GoPay":
      window.location.href = "https://gopay.co.id/your-link"; break;
    case "OVO":
      window.location.href = "https://ovo.id/pay"; break;
  }
}
</script>

</body>
</html>
